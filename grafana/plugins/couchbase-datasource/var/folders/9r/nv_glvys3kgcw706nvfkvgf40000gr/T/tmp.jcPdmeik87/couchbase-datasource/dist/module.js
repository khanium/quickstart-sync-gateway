define(["@grafana/data","@grafana/runtime","react","@grafana/ui","lodash"],((e,t,r,n,o)=>(()=>{"use strict";var s={305:t=>{t.exports=e},545:e=>{e.exports=t},388:e=>{e.exports=n},980:e=>{e.exports=o},650:e=>{e.exports=r}},a={};function c(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return s[e](r,r.exports,c),r.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{c.r(i),c.d(i,{plugin:()=>j});var e=c(305),t=c(545);class r extends t.DataSourceWithBackend{constructor(e){var t,r;super(e),r={},(t="annotations")in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r}}var n=c(650),o=c.n(n),s=c(388);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}function u(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const{SecretFormField:p,FormField:h}=s.LegacyForms;class d extends n.PureComponent{render(){const{options:e}=this.props,{jsonData:t,secureJsonFields:r}=e,n=e.secureJsonData||{};return o().createElement("div",{className:"gf-form-group"},o().createElement("div",{className:"gf-form"},o().createElement(h,{label:"Cluster",labelWidth:10,inputWidth:20,onChange:this.onHostChange,value:t.host||"",placeholder:"Couchbase cluster address"})),o().createElement("div",{className:"gf-form"},o().createElement(h,{label:"Username",labelWidth:10,inputWidth:20,onChange:this.onUserChange,value:t.username||"",placeholder:"Couchbase cluster username"})),o().createElement("div",{className:"gf-form"},o().createElement(p,{isConfigured:r&&r.password,value:n.password||"",label:"Password",placeholder:"Couchbase cluster password",labelWidth:10,inputWidth:20,onReset:this.onPasswordReset,onChange:this.onPasswordChange})))}constructor(...e){super(...e),a(this,"onHostChange",(e=>{const{onOptionsChange:t,options:r}=this.props;t(u(l({},r),{jsonData:u(l({},r.jsonData),{host:e.target.value})}))})),a(this,"onUserChange",(e=>{const{onOptionsChange:t,options:r}=this.props;t(u(l({},r),{jsonData:u(l({},r.jsonData),{username:e.target.value})}))})),a(this,"onPasswordChange",(e=>{const{onOptionsChange:t,options:r}=this.props;t(u(l({},r),{secureJsonData:u(l({},r.secureJsonData),{password:e.target.value})}))})),a(this,"onPasswordReset",(()=>{const{onOptionsChange:e,options:t}=this.props;e(u(l({},t),{secureJsonData:{password:!1}}))}))}}const b={query:"",analytics:!1};var y=c(980);function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){f(e,t,r[t])}))}return e}function O(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}class m extends n.PureComponent{render(){const e=(0,y.defaults)(this.props.query,b);return o().createElement(s.FieldSet,null,o().createElement(s.InlineFieldRow,null,o().createElement(s.QueryField,{query:e.query,portalOrigin:"couchbase",onChange:this.onQueryChange})),o().createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},o().createElement(s.InlineSwitch,{label:"Run using analytics service",showLabel:!0,defaultChecked:e.analytics,value:e.analytics,onChange:this.onAnalyticsChange})))}constructor(...e){super(...e),f(this,"onQueryChange",(e=>{this.props.onChange(O(g({},this.props.query),{query:e}))})),f(this,"onAnalyticsChange",(e=>{this.props.onChange(O(g({},this.props.query),{analytics:e.currentTarget.checked}))}))}}const j=new e.DataSourcePlugin(r).setConfigEditor(d).setQueryEditor(m)})(),i})()));
//# sourceMappingURL=module.js.map